<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Talentrock - The Future of Transparent Freelancing</title>
    <meta name="description"
        content="Talentrock - Merit-based freelancing platform with demo-first hiring, milestone tracking, and 5% commission." />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
</head>

<body>

    <!-- =============================================
     Talentrock - HOME PAGE
     ============================================= -->

    <nav class="navbar">
        <a href="/" class="navbar-brand">
            <img th:src="@{/images/logo.png}" alt="Talentrock Logo">
            Talentrock
        </a>
        <ul class="navbar-nav">
            <li><a href="/" class="nav-link active">Home</a></li>
            <li><a href="/freelancer/browse" class="nav-link" sec:authorize="hasRole('FREELANCER')">Browse Jobs</a></li>
            <li><a href="/about" class="nav-link">About</a></li>
            <li sec:authorize="isAnonymous()"><a href="/login" class="nav-link">Login</a></li>
            <li sec:authorize="isAnonymous()"><a href="/register" class="btn btn-primary btn-sm"
                    style="margin-left:8px">Get Started</a></li>
            <li sec:authorize="isAuthenticated()"><a href="/dashboard" class="btn btn-primary btn-sm"
                    style="margin-left:8px">Dashboard</a></li>
            <li sec:authorize="isAuthenticated()"><a href="/logout" class="btn btn-ghost btn-sm"
                    style="margin-left:4px">Logout</a></li>
        </ul>
    </nav>

    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-bg" id="hero-bg-container">
            <!-- Semi-transparent overlay to ensure UI readability -->
            <div class="hero-overlay"></div>
            <!-- YouTube Iframe Container -->
            <div id="yt-bg-player"></div>
        </div>
        <div class="hero-content animate-fade">
            <div class="hero-badge">
                <span></span>
                India's #1 Merit-Based Freelancing Platform
            </div>
            <h1 class="hero-title">
                Hire by <span class="gradient-text">Skill</span>,<br />Not by Price
            </h1>
            <p class="hero-subtitle">
                Talentrock revolutionizes freelancing with demo-first hiring, transparent milestones, real-time
                tracking,
                and just 5% commission. No more price wars ‚Äî only proven talent wins.
            </p>
            <div class="hero-actions">
                <a href="/register" class="btn btn-primary btn-lg">Start Free Today</a>
                <a href="/about" class="btn btn-outline btn-lg">Learn More</a>
            </div>
            <div class="hero-stats">
                <div class="hero-stat-item">
                    <div class="hero-stat-num gradient-text"
                        th:text="${totalFreelancers != null ? totalFreelancers + '+' : '500+'}">500+</div>
                    <div class="hero-stat-label">Skilled Freelancers</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-num gradient-text"
                        th:text="${openProjects != null ? openProjects + '+' : '200+'}">200+</div>
                    <div class="hero-stat-label">Open Projects</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-num gradient-text">5%</div>
                    <div class="hero-stat-label">Low Commission</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-num gradient-text">100%</div>
                    <div class="hero-stat-label">Transparent</div>
                </div>
            </div>
        </div>
    </section>

    <!-- FEATURES SECTION -->
    <section class="features-section">
        <div class="container" style="max-width:1400px; margin:0 auto; padding:0 2rem;">
            <div class="section-header">
                <span class="section-tag"> What Makes Us Different</span>
                <h2 class="section-title">Built for the <span class="gradient-text">Future</span> of Work</h2>
                <p class="section-subtitle">Every feature designed to eliminate trust issues and create a merit-based
                    ecosystem</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon purple">üß†</div>
                    <h3 class="feature-title">Smart Matching Algorithm</h3>
                    <p class="feature-desc">AI-powered matching based on skill percentage, budget compatibility, and
                        performance ratings ‚Äî not just keyword search.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon teal">üéØ</div>
                    <h3 class="feature-title">Demo-First Hiring</h3>
                    <p class="feature-desc">Freelancers submit actual demo work before being hired. See real skill, not
                        just promises. Quality guaranteed.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon gold">‚≠ê</div>
                    <h3 class="feature-title">Performance Score System</h3>
                    <p class="feature-desc">Composite score based on on-time delivery, completion rate, and client
                        ratings. Excellence is always recognized.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon green">üí∞</div>
                    <h3 class="feature-title">Virtual Wallet & Auto-Pay</h3>
                    <p class="feature-desc">Secure virtual wallet with automated 5% commission. Milestone payments
                        released instantly upon approval.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon purple">üìä</div>
                    <h3 class="feature-title">Milestone Transparency</h3>
                    <p class="feature-desc">Both client and freelancer see the same real-time milestone dashboard.
                        Complete visibility, zero surprises.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon red">üîî</div>
                    <h3 class="feature-title">Real-Time Notifications</h3>
                    <p class="feature-desc">Instant AJAX-powered notifications for bids, milestone updates, payments,
                        and messages without page refresh.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- HOW IT WORKS -->
    <section class="how-it-works-section">
        <div class="container" style="max-width:1200px; margin:0 auto;">
            <div class="section-header">
                <span class="section-tag">The Process</span>
                <h2 class="section-title">How <span class="gradient-text">Talentrock</span> Works</h2>
                <p class="section-subtitle">A transparent end-to-end workflow for clients and freelancers</p>
            </div>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-num">1</div>
                    <h3 class="step-title">Post Your Project</h3>
                    <p class="step-desc">Client posts project with budget, deadline, and required skills</p>
                </div>
                <div class="step-card">
                    <div class="step-num">2</div>
                    <h3 class="step-title">Receive Demo Bids</h3>
                    <p class="step-desc">Freelancers submit proposals + demo work samples, not just quotes</p>
                </div>
                <div class="step-card">
                    <div class="step-num">3</div>
                    <h3 class="step-title">Select Best Talent</h3>
                    <p class="step-desc">Review demos, performance scores, and ratings before deciding</p>
                </div>
                <div class="step-card">
                    <div class="step-num">4</div>
                    <h3 class="step-title">Track Milestones</h3>
                    <p class="step-desc">Work progresses through transparent milestone dashboard</p>
                </div>
                <div class="step-card">
                    <div class="step-num">5</div>
                    <h3 class="step-title">Release Payment</h3>
                    <p class="step-desc">Approve milestones ‚Üí auto-payment with only 5% platform fee</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CATEGORIES SECTION -->
    <section class="categories-section">
        <div class="categories-container">
            <div class="categories-title">
                Get work done in<br>
                different categories
            </div>
            <div class="categories-grid">
                <!-- Column 1 -->
                <div class="category-col">
                    <a th:href="@{/hire/Website-Design}" class="category-item">Website Design</a>
                    <a th:href="@{/hire/Mobile-Apps}" class="category-item">Mobile Apps</a>
                    <a th:href="@{/hire/Android-Apps}" class="category-item">Android Apps</a>
                    <a th:href="@{/hire/iPhone-Apps}" class="category-item">iPhone Apps</a>
                    <a th:href="@{/hire/Software-Architecture}" class="category-item">Software Architecture</a>
                    <a th:href="@{/hire/Graphic-Design}" class="category-item">Graphic Design</a>
                    <a th:href="@{/hire/Logo-Design}" class="category-item">Logo Design</a>
                    <a th:href="@{/hire/Public-Relations}" class="category-item">Public Relations</a>
                    <a th:href="@{/hire/Logistics}" class="category-item">Logistics</a>
                    <a th:href="@{/hire/Proofreading}" class="category-item">Proofreading</a>
                    <a th:href="@{/hire/Translation}" class="category-item">Translation</a>
                    <a th:href="@{/hire/Research}" class="category-item">Research</a>
                </div>
                <!-- Column 2 -->
                <div class="category-col">
                    <a th:href="@{/hire/Research-Writing}" class="category-item">Research Writing</a>
                    <a th:href="@{/hire/Article-Writing}" class="category-item">Article Writing</a>
                    <a th:href="@{/hire/Web-Scraping}" class="category-item">Web Scraping</a>
                    <a th:href="@{/hire/HTML}" class="category-item">HTML</a>
                    <a th:href="@{/hire/CSS}" class="category-item">CSS</a>
                    <a th:href="@{/hire/HTML-5}" class="category-item">HTML 5</a>
                    <a th:href="@{/hire/Javascript}" class="category-item">Javascript</a>
                    <a th:href="@{/hire/Data-Processing}" class="category-item">Data Processing</a>
                    <a th:href="@{/hire/Python}" class="category-item">Python</a>
                    <a th:href="@{/hire/Wordpress}" class="category-item">Wordpress</a>
                    <a th:href="@{/hire/Web-Search}" class="category-item">Web Search</a>
                    <a th:href="@{/hire/Finance}" class="category-item">Finance</a>
                </div>
                <!-- Column 3 -->
                <div class="category-col">
                    <a th:href="@{/hire/Legal}" class="category-item">Legal</a>
                    <a th:href="@{/hire/Linux}" class="category-item">Linux</a>
                    <a th:href="@{/hire/Manufacturing}" class="category-item">Manufacturing</a>
                    <a th:href="@{/hire/Data-Entry}" class="category-item">Data Entry</a>
                    <a th:href="@{/hire/Content-Writing}" class="category-item">Content Writing</a>
                    <a th:href="@{/hire/Marketing}" class="category-item">Marketing</a>
                    <a th:href="@{/hire/Excel}" class="category-item">Excel</a>
                    <a th:href="@{/hire/Ghostwriting}" class="category-item">Ghostwriting</a>
                    <a th:href="@{/hire/Copywriting}" class="category-item">Copywriting</a>
                    <a th:href="@{/hire/Accounting}" class="category-item">Accounting</a>
                    <a th:href="@{/hire/MySQL}" class="category-item">MySQL</a>
                    <a th:href="@{/hire/Cplus-Programming}" class="category-item">C++ Programming</a>
                </div>
                <!-- Column 4 -->
                <div class="category-col">
                    <a th:href="@{/hire/Banner-Design}" class="category-item">Banner Design</a>
                    <a th:href="@{/hire/Illustration}" class="category-item">Illustration</a>
                    <a th:href="@{/hire/Link-Building}" class="category-item">Link Building</a>
                    <a th:href="@{/hire/Csharp-Programming}" class="category-item">C# Programming</a>
                    <a th:href="@{/hire/PHP}" class="category-item">PHP</a>
                    <a th:href="@{/hire/3D-Modelling}" class="category-item">3D Modelling</a>
                    <a th:href="@{/hire/Photoshop}" class="category-item">Photoshop</a>
                    <a th:href="@{/hire/Technical-Writing}" class="category-item">Technical Writing</a>
                    <a th:href="@{/hire/Blogging}" class="category-item">Blogging</a>
                    <a th:href="@{/hire/Internet-Marketing}" class="category-item">Internet Marketing</a>
                    <a th:href="@{/hire/eCommerce}" class="category-item">eCommerce</a>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA SECTION -->
    <section style="padding: 6rem 2rem; text-align: center;">
        <div style="max-width: 700px; margin: 0 auto;">
            <h2 style="font-size: clamp(2rem, 5vw, 3.5rem); font-weight: 900; margin-bottom: 1.5rem;">
                Ready to Experience <span class="gradient-text">True Freelancing?</span>
            </h2>
            <p style="color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 2.5rem; line-height: 1.7;">
                Join thousands of clients and freelancers building trust-based, merit-driven work relationships on
                Talentrock.
            </p>
            <div class="flex flex-center gap-2 flex-wrap">
                <a href="/register?role=CLIENT" class="btn btn-primary btn-lg">Hire a Freelancer</a>
                <a href="/register?role=FREELANCER" class="btn btn-secondary btn-lg">Find Work</a>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <div th:replace="~{fragments/footer :: footer}"></div>

    <!-- YOUTUBE BACKGROUND VIDEO SCRIPT -->
    <script>
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        // Expanded selection of 10 breathtaking 4K nature and drone aerial loops
        var videoList = [
            'yYyGjB-1wJk', // Famous Landscapes
            'JcWvX90E_Yw', // Amazing Nature Drone
            'zRpazyH1WzI', // 4K Drone Stock
            '0kYv_3jV3pA', // Limitless Inspiration
            'CxS62Yc9iIk', // Nature Relaxation / Ocean
            '7q_S0mD-vjU', // Mountains and Lakes
            'eG4Yl387t1U', // Breathtaking Drone views
            '--CqUrPL_ds', // Coastal / Scenic Film
            'Xv0A88mNl-4', // Iceland Drone views
            'UvUuGueM0uE'  // River / Valley Aerial
        ];
        var currentVideoIndex = 0;
        var rotateInterval;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('yt-bg-player', {
                videoId: videoList[currentVideoIndex],
                playerVars: {
                    'autoplay': 1,
                    'controls': 0,
                    'rel': 0,
                    'showinfo': 0,
                    'modestbranding': 1,
                    'mute': 1,
                    'loop': 0,
                    'playsinline': 1,
                    'disablekb': 1,
                    'iv_load_policy': 3
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange,
                    'onError': onPlayerError // ADDED ERROR HANDLING
                }
            });
        }

        function onPlayerReady(event) {
            event.target.playVideo();
            startRotation();
        }

        function startRotation() {
            if (rotateInterval) clearInterval(rotateInterval);
            rotateInterval = setInterval(nextVideo, 5000); // 5 seconds interval
        }

        function nextVideo() {
            currentVideoIndex = (currentVideoIndex + 1) % videoList.length;
            if (player && player.loadVideoById) {
                // Simplified call for fastest execution
                player.loadVideoById(videoList[currentVideoIndex]);
                player.mute();
                player.playVideo();
            }
        }

        function onPlayerStateChange(event) {
            // If video ends naturally before the 5s timer, skip to next
            if (event.data === YT.PlayerState.ENDED) {
                nextVideo();
                startRotation();
            }
        }

        // AUTO-SKIP IF VIDEO IS UNAVAILABLE
        function onPlayerError(event) {
            console.log("Video unavailable, skipping to next...");
            nextVideo();
            startRotation();
        }
    </script>
</body>

</html>