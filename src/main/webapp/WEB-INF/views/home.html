<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Talentrox - The Future of Transparent Freelancing</title>
    <meta name="description"
        content="Talentrox - Merit-based freelancing platform with demo-first hiring, milestone tracking, and 5% commission." />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
</head>

<body>

    <!-- =============================================
     TALENTROX - HOME PAGE
     ============================================= -->

    <nav class="navbar">
        <a href="/" class="navbar-brand">
            <div class="logo-icon">‚ö°</div>
            Talentrox
        </a>
        <ul class="navbar-nav">
            <li><a href="/" class="nav-link active">Home</a></li>
            <li><a href="/freelancer/browse" class="nav-link" sec:authorize="hasRole('FREELANCER')">Browse Jobs</a></li>
            <li><a href="/about" class="nav-link">About</a></li>
            <li sec:authorize="isAnonymous()"><a href="/login" class="nav-link">Login</a></li>
            <li sec:authorize="isAnonymous()"><a href="/register" class="btn btn-primary btn-sm"
                    style="margin-left:8px">Get Started</a></li>
            <li sec:authorize="isAuthenticated()"><a href="/dashboard" class="btn btn-primary btn-sm"
                    style="margin-left:8px">Dashboard</a></li>
            <li sec:authorize="isAuthenticated()"><a href="/logout" class="btn btn-ghost btn-sm"
                    style="margin-left:4px">Logout</a></li>
        </ul>
    </nav>

    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-bg" id="hero-bg-container">
            <!-- Semi-transparent overlay to ensure UI readability -->
            <div class="hero-overlay"></div>
            <!-- YouTube Iframe Container -->
            <div id="yt-bg-player"></div>
        </div>
        <div class="hero-content animate-fade">
            <div class="hero-badge">
                <span></span>
                India's #1 Merit-Based Freelancing Platform
            </div>
            <h1 class="hero-title">
                Hire by <span class="gradient-text">Skill</span>,<br />Not by Price
            </h1>
            <p class="hero-subtitle">
                Talentrox revolutionizes freelancing with demo-first hiring, transparent milestones, real-time tracking,
                and just 5% commission. No more price wars ‚Äî only proven talent wins.
            </p>
            <div class="hero-actions">
                <a href="/register" class="btn btn-primary btn-lg">üöÄ Start Free Today</a>
                <a href="/about" class="btn btn-outline btn-lg">Learn More</a>
            </div>
            <div class="hero-stats">
                <div class="hero-stat-item">
                    <div class="hero-stat-num gradient-text"
                        th:text="${totalFreelancers != null ? totalFreelancers + '+' : '500+'}">500+</div>
                    <div class="hero-stat-label">Skilled Freelancers</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-num gradient-text"
                        th:text="${openProjects != null ? openProjects + '+' : '200+'}">200+</div>
                    <div class="hero-stat-label">Open Projects</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-num gradient-text">5%</div>
                    <div class="hero-stat-label">Low Commission</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-num gradient-text">100%</div>
                    <div class="hero-stat-label">Transparent</div>
                </div>
            </div>
        </div>
    </section>

    <!-- FEATURES SECTION -->
    <section class="features-section">
        <div class="container" style="max-width:1400px; margin:0 auto; padding:0 2rem;">
            <div class="section-header">
                <span class="section-tag">üéØ What Makes Us Different</span>
                <h2 class="section-title">Built for the <span class="gradient-text">Future</span> of Work</h2>
                <p class="section-subtitle">Every feature designed to eliminate trust issues and create a merit-based
                    ecosystem</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon purple">üß†</div>
                    <h3 class="feature-title">Smart Matching Algorithm</h3>
                    <p class="feature-desc">AI-powered matching based on skill percentage, budget compatibility, and
                        performance ratings ‚Äî not just keyword search.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon teal">üéØ</div>
                    <h3 class="feature-title">Demo-First Hiring</h3>
                    <p class="feature-desc">Freelancers submit actual demo work before being hired. See real skill, not
                        just promises. Quality guaranteed.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon gold">‚≠ê</div>
                    <h3 class="feature-title">Performance Score System</h3>
                    <p class="feature-desc">Composite score based on on-time delivery, completion rate, and client
                        ratings. Excellence is always recognized.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon green">üí∞</div>
                    <h3 class="feature-title">Virtual Wallet & Auto-Pay</h3>
                    <p class="feature-desc">Secure virtual wallet with automated 5% commission. Milestone payments
                        released instantly upon approval.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon purple">üìä</div>
                    <h3 class="feature-title">Milestone Transparency</h3>
                    <p class="feature-desc">Both client and freelancer see the same real-time milestone dashboard.
                        Complete visibility, zero surprises.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon red">üîî</div>
                    <h3 class="feature-title">Real-Time Notifications</h3>
                    <p class="feature-desc">Instant AJAX-powered notifications for bids, milestone updates, payments,
                        and messages without page refresh.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- HOW IT WORKS -->
    <section style="padding: 5rem 2rem; background: rgba(255,255,255,0.02);">
        <div style="max-width:1200px; margin:0 auto;">
            <div class="section-header">
                <span class="section-tag">üîÑ The Process</span>
                <h2 class="section-title">How <span class="gradient-text">Talentrox</span> Works</h2>
                <p class="section-subtitle">A transparent end-to-end workflow for clients and freelancers</p>
            </div>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-num">1</div>
                    <h3 class="step-title">Post Your Project</h3>
                    <p class="step-desc">Client posts project with budget, deadline, and required skills</p>
                </div>
                <div class="step-card">
                    <div class="step-num">2</div>
                    <h3 class="step-title">Receive Demo Bids</h3>
                    <p class="step-desc">Freelancers submit proposals + demo work samples, not just quotes</p>
                </div>
                <div class="step-card">
                    <div class="step-num">3</div>
                    <h3 class="step-title">Select Best Talent</h3>
                    <p class="step-desc">Review demos, performance scores, and ratings before deciding</p>
                </div>
                <div class="step-card">
                    <div class="step-num">4</div>
                    <h3 class="step-title">Track Milestones</h3>
                    <p class="step-desc">Work progresses through transparent milestone dashboard</p>
                </div>
                <div class="step-card">
                    <div class="step-num">5</div>
                    <h3 class="step-title">Release Payment</h3>
                    <p class="step-desc">Approve milestones ‚Üí auto-payment with only 5% platform fee</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA SECTION -->
    <section style="padding: 6rem 2rem; text-align: center;">
        <div style="max-width: 700px; margin: 0 auto;">
            <h2 style="font-size: clamp(2rem, 5vw, 3.5rem); font-weight: 900; margin-bottom: 1.5rem;">
                Ready to Experience <span class="gradient-text">True Freelancing?</span>
            </h2>
            <p style="color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 2.5rem; line-height: 1.7;">
                Join thousands of clients and freelancers building trust-based, merit-driven work relationships on
                Talentrox.
            </p>
            <div class="flex flex-center gap-2 flex-wrap">
                <a href="/register?role=CLIENT" class="btn btn-primary btn-lg">Hire a Freelancer</a>
                <a href="/register?role=FREELANCER" class="btn btn-secondary btn-lg">Find Work</a>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-grid">
            <div>
                <div class="footer-brand-name">‚ö° Talentrox</div>
                <p class="footer-desc">The future of transparent, merit-based freelancing. No price wars. Only proven
                    talent wins.</p>
            </div>
            <div>
                <div class="footer-heading">Platform</div>
                <ul class="footer-links">
                    <li><a href="/register">Sign Up</a></li>
                    <li><a href="/login">Login</a></li>
                    <li><a href="/about">About Us</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </div>
            <div>
                <div class="footer-heading">For Clients</div>
                <ul class="footer-links">
                    <li><a href="/register?role=CLIENT">Post a Project</a></li>
                    <li><a href="/about">How It Works</a></li>
                    <li><a href="#">Pricing</a></li>
                </ul>
            </div>
            <div>
                <div class="footer-heading">For Freelancers</div>
                <ul class="footer-links">
                    <li><a href="/register?role=FREELANCER">Join as Freelancer</a></li>
                    <li><a href="/freelancer/browse" sec:authorize="hasRole('FREELANCER')">Browse Jobs</a></li>
                    <li><a href="#">Success Stories</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            ¬© 2025 Talentrox. All rights reserved. Built for merit. Built for trust.
        </div>
    </footer>

    <!-- YOUTUBE BACKGROUND VIDEO SCRIPT -->
    <script>
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        // Selection of 6 high-quality videos related to freelancing, coding, and remote work
        var videoList = [
            '8Z1eMy2FoX4', // Modern Coding Environment
            'hVvEISFw9w0', // Office Productivity
            '3bGQp_E14gA', // Tech Workspace
            '2yJg_x2i30k', // Design / Creative Office
            'LS-ErOKpO4E', // Digital Nomad / Remote Work
            'aDptDqF_nU0'  // Professional Collaboration
        ];
        var currentVideoIndex = 0;
        var rotateInterval;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('yt-bg-player', {
                videoId: videoList[currentVideoIndex],
                playerVars: {
                    'autoplay': 1,
                    'controls': 0,
                    'rel': 0,
                    'showinfo': 0,
                    'modestbranding': 1,
                    'mute': 1,
                    'loop': 0,
                    'playsinline': 1,
                    'disablekb': 1,
                    'iv_load_policy': 3
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            event.target.playVideo();
            // Automatically switch video every 45 seconds for a dynamic feel
            startRotation();
        }

        function startRotation() {
            if (rotateInterval) clearInterval(rotateInterval);
            rotateInterval = setInterval(nextVideo, 45000); // 45 seconds
        }

        function nextVideo() {
            currentVideoIndex = (currentVideoIndex + 1) % videoList.length;
            if (player && player.loadVideoById) {
                player.loadVideoById(videoList[currentVideoIndex]);
            }
        }

        function onPlayerStateChange(event) {
            // When video ends (state 0), switch immediately
            if (event.data === YT.PlayerState.ENDED) {
                nextVideo();
                startRotation(); // Reset timer
            }
        }
    </script>
</body>

</html>